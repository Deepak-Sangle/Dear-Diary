{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useEffect, useState } from \"react\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport styles from \"../styles/login\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Registration = function Registration() {\n  var _require = require(\"../constant.js\"),\n    BASE_URI = _require.BASE_URI;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isAvailable = _useState2[0],\n    setIsAvailable = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    usersNames = _useState4[0],\n    setUsersNames = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    name = _useState6[0],\n    setName = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    passcode = _useState8[0],\n    setPasscode = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    cpasscode = _useState10[0],\n    setCpasscode = _useState10[1];\n  function validateSubmit(event) {\n    event.preventDefault();\n    if (name === \"\") {\n      alert(\"Type something :)\");\n      return;\n    } else if (!isAvailable && name !== \"\") {}\n  }\n  var getAllNames = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var res = yield fetch(`${BASE_URI}/getallnames`);\n        var data = yield res.data;\n        console.log(data.data);\n        setUsersNames(data.data);\n      } catch (e) {\n        console.log(\"error getting names: \", e);\n      }\n    });\n    return function getAllNames() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    getAllNames();\n  }, []);\n  var setPassword = function setPassword(text) {\n    if (text.length > 4) return;\n    setPasscode(text);\n  };\n  var setCPassword = function setCPassword(text) {\n    if (text.length > 4) return;\n    setCpasscode(text);\n  };\n  return _jsx(ScrollView, {\n    children: _jsx(ImageBackground, {\n      source: require(\"../../assets/images/bg.jpg\"),\n      style: styles.nameScreen,\n      children: _jsxs(View, {\n        style: styles.nameScreen,\n        children: [_jsx(Text, {\n          style: styles.name,\n          children: \"Dear Diary\"\n        }), _jsxs(View, {\n          children: [_jsx(Text, {\n            style: styles.yourName,\n            children: \"Register your account\"\n          }), _jsx(TextInput, {\n            style: styles.inputName,\n            value: name,\n            onChangeText: setName,\n            placeholder: \"Enter Username\"\n          }), _jsx(TextInput, {\n            style: styles.inputName,\n            onKeyDown: function onKeyDown(evt) {\n              return [\"e\", \"E\", \"+\", \"-\"].includes(evt.key) && evt.preventDefault();\n            },\n            type: \"number\",\n            value: passcode,\n            onChangeText: setPassword,\n            placeholder: \"Enter Passcode\"\n          }), _jsx(TextInput, {\n            style: styles.inputName,\n            type: \"number\",\n            onKeyDown: function onKeyDown(evt) {\n              return [\"e\", \"E\", \"+\", \"-\"].includes(evt.key) && evt.preventDefault();\n            },\n            value: cpasscode,\n            onChangeText: setCPassword,\n            placeholder: \"Confirm Passcode\"\n          }), !isAvailable && _jsxs(Text, {\n            style: styles.availability,\n            children: [name, \" is available\"]\n          }), isAvailable && _jsxs(Text, {\n            style: _objectSpread(_objectSpread({}, styles.availability), styles.isnotavaliable),\n            children: [name, \" is not available\"]\n          }), _jsx(TouchableOpacity, {\n            children: _jsx(View, {\n              style: {\n                margin: 20\n              },\n              children: _jsx(Button, {\n                title: \"Register\",\n                onPress: validateSubmit,\n                color: \"#2d2d2d\"\n              })\n            })\n          }), _jsxs(View, {\n            style: styles.passcodeView,\n            children: [_jsx(Text, {\n              style: styles.wantTo,\n              children: \"Want to Login? \"\n            }), _jsx(Text, {\n              onPress: function onPress() {\n                return Linking.openURL(\"/login\");\n              },\n              style: _objectSpread(_objectSpread({}, styles.wantTo), styles.wantToA),\n              children: \"Click Here\"\n            })]\n          })]\n        })]\n      })\n    })\n  });\n};\nexport default Registration;","map":{"version":3,"names":["React","useEffect","useState","Linking","View","Text","StyleSheet","TextInput","Button","TouchableHighlight","TouchableOpacity","Image","ScrollView","ImageBackground","styles","jsx","_jsx","jsxs","_jsxs","Registration","_require","require","BASE_URI","_useState","_useState2","_slicedToArray","isAvailable","setIsAvailable","_useState3","_useState4","usersNames","setUsersNames","_useState5","_useState6","name","setName","_useState7","_useState8","passcode","setPasscode","_useState9","_useState10","cpasscode","setCpasscode","validateSubmit","event","preventDefault","alert","getAllNames","_ref","_asyncToGenerator","res","fetch","data","console","log","e","apply","arguments","setPassword","text","length","setCPassword","children","source","style","nameScreen","yourName","inputName","value","onChangeText","placeholder","onKeyDown","evt","includes","key","type","availability","_objectSpread","isnotavaliable","margin","title","onPress","color","passcodeView","wantTo","openURL","wantToA"],"sources":["H:/Documents/Repositories/Dear Diary/mobile-client/src/screens/Registration.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Linking,\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  TextInput,\r\n  Button,\r\n  TouchableHighlight,\r\n  TouchableOpacity,\r\n  Image,\r\n  ScrollView,\r\n  ImageBackground,\r\n} from \"react-native\";\r\nimport styles from \"../styles/login\";\r\n// import { useNavigate, Link } from \"react-router-dom\";\r\n\r\nconst Registration = () => {\r\n  // const navigate = useNavigate();\r\n\r\n  const {BASE_URI} = require('../constant.js');\r\n\r\n  const [isAvailable, setIsAvailable] = useState(true);\r\n  const [usersNames, setUsersNames] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [passcode, setPasscode] = useState(\"\");\r\n  const [cpasscode, setCpasscode] = useState(\"\");\r\n\r\n  // const saveName = async (name) => {\r\n  //   try {\r\n  //     if (passcode !== cpasscode) {\r\n  //       alert(\"Passwords should be matched\");\r\n  //       return;\r\n  //     }\r\n  //     if (passcode.length < 4) {\r\n  //       alert(\"You have to make your password of exactly 4 digit long\");\r\n  //       return;\r\n  //     }\r\n  //     const res = await axios.post(`${BASE_URI}/register`, {\r\n  //       name,\r\n  //       password: passcode,\r\n  //       cpassword: cpasscode,\r\n  //     });\r\n  //     const data = await res.data;\r\n  //     if (data.success === true) {\r\n  //       navigate(\"/login\");\r\n  //     } else {\r\n  //       alert(data.message);\r\n  //     }\r\n  //   } catch (e) {\r\n  //     alert(e.response.data.message);\r\n  //   }\r\n  //   document.getElementById(\"form\").reset();\r\n  // };\r\n\r\n  function validateSubmit(event) {\r\n    event.preventDefault();\r\n    if (name === \"\") {\r\n      alert(\"Type something :)\");\r\n      return;\r\n    } else if (!isAvailable && name !== \"\") {\r\n      // saveName(name);\r\n    }\r\n  }\r\n\r\n  const getAllNames = async () => {\r\n    try{\r\n      const res = await fetch(`${BASE_URI}/getallnames`);\r\n      const data = await res.data;\r\n      console.log(data.data);\r\n      setUsersNames(data.data);\r\n    }\r\n    catch(e){\r\n      console.log(\"error getting names: \", e);\r\n    }\r\n  };\r\n\r\n  // const checkAvailability = () => {\r\n  //   setIsAvailable(usersNames.includes(name));\r\n  // };\r\n\r\n  useEffect(() => {\r\n    getAllNames();\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   checkAvailability();\r\n  //   const element2 = document.getElementById(\"isnotavaliable\");\r\n  //   const element1 = document.getElementById(\"isavaliable\");\r\n  //   if (name === \"\" && element1 != null) element1.style.opacity = \"0\";\r\n  //   else if (name !== \"\" && element1 != null) element1.style.opacity = \"1\";\r\n  //   if (name === \"\" && element2 != null) element2.style.opacity = \"0\";\r\n  //   else if (name !== \"\" && element2 != null) element2.style.opacity = \"1\";\r\n  // });\r\n\r\n  const setPassword = (text) => {\r\n    if (text.length > 4) return;\r\n    setPasscode(text);\r\n  };\r\n\r\n  const setCPassword = (text) => {\r\n    if (text.length > 4) return;\r\n    setCpasscode(text);\r\n  };\r\n\r\n  return (\r\n    <ScrollView>\r\n      <ImageBackground\r\n        source={require(\"../../assets/images/bg.jpg\")}\r\n        style={styles.nameScreen}\r\n      >\r\n        <View style={styles.nameScreen}>\r\n          <Text style={styles.name}>Dear Diary</Text>\r\n          <View>\r\n            \r\n            <Text style={styles.yourName}>\r\n              Register your account\r\n            </Text>\r\n\r\n            <TextInput \r\n              style={styles.inputName} \r\n              value={name} \r\n              onChangeText={setName} \r\n              placeholder=\"Enter Username\" \r\n            />\r\n\r\n            <TextInput\r\n              style={styles.inputName}\r\n              onKeyDown={(evt) =>\r\n                [\"e\", \"E\", \"+\", \"-\"].includes(evt.key) && evt.preventDefault()\r\n              }\r\n              type=\"number\"\r\n              value={passcode}\r\n              onChangeText={setPassword}\r\n              placeholder=\"Enter Passcode\"\r\n            />\r\n            <TextInput\r\n              style={styles.inputName}\r\n              type=\"number\"\r\n              onKeyDown={(evt) =>\r\n                [\"e\", \"E\", \"+\", \"-\"].includes(evt.key) && evt.preventDefault()\r\n              }\r\n              value={cpasscode}\r\n              onChangeText={setCPassword}\r\n              placeholder=\"Confirm Passcode\"\r\n            />\r\n            {!isAvailable && (\r\n              <Text style={styles.availability}>\r\n                {name} is available\r\n              </Text>\r\n            )}\r\n            {isAvailable && (\r\n              <Text style={{...styles.availability, ...styles.isnotavaliable}}>\r\n                {name} is not available\r\n              </Text>\r\n            )}\r\n\r\n            <TouchableOpacity>\r\n              <View style={{margin : 20,}}>\r\n                <Button title='Register' onPress={validateSubmit} color=\"#2d2d2d\"></Button>\r\n              </View>\r\n            </TouchableOpacity>\r\n\r\n            <View style={styles.passcodeView}>\r\n              <Text style={styles.wantTo}>Want to Login? </Text> \r\n              <Text onPress={() => Linking.openURL(\"/login\")} style={{...styles.wantTo, ...styles.wantToA}}>\r\n                Click Here\r\n              </Text>\r\n            </View>\r\n\r\n          </View>\r\n        </View>\r\n      </ImageBackground>\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nexport default Registration;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}